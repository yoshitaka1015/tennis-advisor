<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>機能要望フォーム | Tennis Advisor</title>
  <meta name="description" content="Tennis Advisor への機能要望フォーム" />
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body>
  <div class="container">
    <header class="page-header">
      <a class="back" href="./index.html" aria-label="戻る">← 戻る</a>
      <h1>機能要望フォーム</h1>
      <p class="lead">改善のためのご意見をお寄せください（返信は原則おこないません）。</p>
      <div class="rule"></div>
    </header>

    <article class="card">
      <form action="https://formspree.io/f/mwpnzrld" method="POST" class="form">
        <div class="field">
          <label for="category">カテゴリ</label>
          <select id="category" name="category" required>
            <option value="feature">機能要望</option>
            <option value="ui">UI/UX</option>
            <option value="bug">不具合報告</option>
            <option value="other">その他</option>
          </select>
        </div>

        <div class="field">
          <label for="message">内容（できるだけ具体的に）</label>
          <textarea id="message" name="message" required rows="6" placeholder="例）ポイント入力中、〇〇が使いにくいので△△にしてほしい など"></textarea>
        </div>

        <div class="field">
          <label for="email">メール（任意・返信は基本行いません）</label>
          <input id="email" type="email" name="email" placeholder="任意でご記入ください" />
        </div>

        <details class="details">
          <summary>任意の環境情報</summary>
          <div class="field">
            <label for="device">端末/OS/アプリ版</label>
            <input id="device" type="text" name="device" placeholder="例）iPhone 15 / iOS 17.5 / v1.0" />
          </div>
          <div class="field">
            <label for="diag">診断メモ（自動）</label>
            <textarea id="diag" name="diagnostics" rows="3" readonly></textarea>
          </div>
        </details>

        <!-- スパム対策（ハニーポット） -->
        <input type="text" name="website" class="hp" tabindex="-1" autocomplete="off" />

        <!-- 送信元ページ -->
        <input type="hidden" name="source" value="feedback.html" />

        <button class="btn" type="submit">送信する</button>
      </form>
    </article>

    <footer class="footer">© 2025 Tennis Advisor</footer>
  </div>

  <script>
    // 簡易診断情報を自動記入（任意）
    (function () {
      const ua = navigator.userAgent;
      const lang = navigator.language;
      const tz = Intl.DateTimeFormat().resolvedOptions().timeZone || '';
      const width = window.screen.width, height = window.screen.height;
      const diag = `UA: ${ua}\nLang: ${lang}\nTZ: ${tz}\nScreen: ${width}x${height}`;
      const el = document.getElementById('diag');
      if (el) el.value = diag;
    })();
  </script>
</body>
</html>